<!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="UTF-8">
    <title>Ù…Ø¯ÛŒØ±ÛŒØª Ø§Ø¨Ø²Ø§Ø± Ø¯Ø± Ú¯Ø±Ø¯Ø´</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="watermark"></div>
    <h1>Ù…Ø¯ÛŒØ±ÛŒØª Ø§Ø¨Ø²Ø§Ø± Ø¯Ø± Ú¯Ø±Ø¯Ø´</h1>

    <div class="container">
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="flash {{ category }}">{{ message }}</div>
                {% endfor %}
            {% endif %}
        {% endwith %}

        <!-- Ø«Ø¨Øª Ø§Ø¨Ø²Ø§Ø± -->
        <form method="POST" action="/add" enctype="multipart/form-data" class="card">
            <h3>â• Ø«Ø¨Øª Ø§Ø¨Ø²Ø§Ø± Ø¬Ø¯ÛŒØ¯</h3>
            <div class="row">
                <div class="tool-type-container">
                    <input type="text" name="tool_type" placeholder="Ù†ÙˆØ¹ Ø§Ø¨Ø²Ø§Ø±" required>
                    <select name="tool_type_select" onchange="document.querySelector('[name=tool_type]').value=this.value;">
                        <option value="">Ø§Ù†ØªØ®Ø§Ø¨ Ù†ÙˆØ¹ Ø§Ø¨Ø²Ø§Ø±</option>
                        <option value="Drill Pipe">Drill Pipe</option>
                        <option value="HW">HW</option>
                        <option value="Drill Collar">Drill Collar</option>
                        <option value="Cross Over">Cross Over</option>
                        <option value="Bit Sub">Bit Sub</option>
                        <option value="Short Sub">Short Sub</option>
                        <option value="Casing Scrapper">Casing Scrapper</option>
                        <option value="Uper I-BOP">Uper I-BOP</option>
                        <option value="Lower I-BOP">Lower I-BOP</option>
                        <option value="Double Box">Double Box</option>
                        <option value="Saver Sub">Saver Sub</option>
                        <option value="Safty Valve">Safty Valve</option>
                        <option value="PUP Joint">PUP Joint</option>
                        <option value="Fishing">Fishing</option>
                    </select>
                </div>
                <input type="text" name="serial_number" placeholder="Ø´Ù…Ø§Ø±Ù‡ Ø³Ø±ÛŒØ§Ù„" required>
                <input type="text" name="size" placeholder="Ø³Ø§ÛŒØ²">
                <input type="text" name="thread_type" placeholder="Ù†ÙˆØ¹ Ø±Ø²ÙˆÙ‡">
                <input type="text" name="location" placeholder="Ù…Ø­Ù„ Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ">
                <select name="status">
                    <option value="Ø¢Ù…Ø§Ø¯Ù‡">âœ… Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡</option>
                    <option value="ØªØ¹Ù…ÛŒØ±">ğŸ›  Ù†ÛŒØ§Ø² Ø¨Ù‡ ØªØ¹Ù…ÛŒØ±</option>
                    <option value="Ø³Ù†Ø¯Ø¨Ù„Ø§Ø³Øª">ğŸŒ€ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø³Ù†Ø¯Ø¨Ù„Ø§Ø³Øª</option>
                    <option value="Ø®Ø±Ø§Ø¨">âŒ Ø®Ø±Ø§Ø¨</option>
                    <option value="Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø¨Ø§Ø²Ø±Ø³ÛŒ">ğŸ” Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø¨Ø§Ø²Ø±Ø³ÛŒ</option>
                    <option value="Class 2">ğŸ“˜ Class 2</option>
                </select>
                <label>Ú¯Ø²Ø§Ø±Ø´ (PDF): <input type="file" name="report_file" accept=".pdf"></label>
            </div>
            <div class="actions">
                <button type="submit">Ø«Ø¨Øª Ø§Ø¨Ø²Ø§Ø±</button>
                <form method="POST" action="/upload_excel" enctype="multipart/form-data" class="inline-form">
                    <input type="file" name="excel_file" accept=".xlsx,.xls" required>
                    <button type="submit">ğŸ“ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø§Ú©Ø³Ù„</button>
                </form>
            </div>
        </form>

        <!-- Ø¬Ø³ØªØ¬Ùˆ -->
        <form method="get" action="/" class="card">
            <h3>ğŸ” Ø¬Ø³ØªØ¬Ùˆ</h3>
            <div class="row">
                <select name="tool_type">
                    <option value="">-- Ù‡Ù…Ù‡ Ù†ÙˆØ¹ Ø§Ø¨Ø²Ø§Ø± --</option>
                    <option value="Drill Pipe">Drill Pipe</option>
                    <option value="HW">HW</option>
                    <option value="Drill Collar">Drill Collar</option>
                    <option value="Cross Over">Cross Over</option>
                    <option value="Bit Sub">Bit Sub</option>
                    <option value="Short Sub">Short Sub</option>
                    <option value="Casing Scrapper">Casing Scrapper</option>
                    <option value="Uper I-BOP">Uper I-BOP</option>
                    <option value="Lower I-BOP">Lower I-BOP</option>
                    <option value="Double Box">Double Box</option>
                    <option value="Saver Sub">Saver Sub</option>
                    <option value="Safty Valve">Safty Valve</option>
                    <option value="PUP Joint">PUP Joint</option>
                    <option value="Fishing">Fishing</option>
                </select>
                <input type="text" name="serial_number" value="{{ serial_number }}" placeholder="Ø´Ù…Ø§Ø±Ù‡ Ø³Ø±ÛŒØ§Ù„">
                <input type="text" name="size" value="{{ size }}" placeholder="Ø³Ø§ÛŒØ²">
                <input type="text" name="location" value="{{ location }}" placeholder="Ù…Ø­Ù„ Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ">
                <select name="status">
                    <option value="">Ù‡Ù…Ù‡ ÙˆØ¶Ø¹ÛŒØªâ€ŒÙ‡Ø§</option>
                    <option value="Ø¢Ù…Ø§Ø¯Ù‡">âœ… Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡</option>
                    <option value="ØªØ¹Ù…ÛŒØ±">ğŸ›  Ù†ÛŒØ§Ø² Ø¨Ù‡ ØªØ¹Ù…ÛŒØ±</option>
                    <option value="Ø³Ù†Ø¯Ø¨Ù„Ø§Ø³Øª">ğŸŒ€ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø³Ù†Ø¯Ø¨Ù„Ø§Ø³Øª</option>
                    <option value="Ø®Ø±Ø§Ø¨">âŒ Ø®Ø±Ø§Ø¨</option>
                    <option value="Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø¨Ø§Ø²Ø±Ø³ÛŒ">ğŸ” Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø¨Ø§Ø²Ø±Ø³ÛŒ</option>
                    <option value="Class 2">ğŸ“˜ Class 2</option>
                </select>
                <div class="actions">
                    <button type="submit">Ø¬Ø³ØªØ¬Ùˆ</button>
                    <a href="/"><button type="button">Ù†Ù…Ø§ÛŒØ´ Ù‡Ù…Ù‡</button></a>
                </div>
            </div>
        </form>

        <!-- Ø¬Ø¯ÙˆÙ„ -->
        <div class="card">
            <h3>ğŸ“‹ Ù„ÛŒØ³Øª Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§</h3>
            <table class="compact">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Ù†ÙˆØ¹ Ø§Ø¨Ø²Ø§Ø±</th>
                        <th>Ø´Ù…Ø§Ø±Ù‡ Ø³Ø±ÛŒØ§Ù„</th>
                        <th>Ø³Ø§ÛŒØ²</th>
                        <th>Ù†ÙˆØ¹ Ø±Ø²ÙˆÙ‡</th>
                        <th>Ù…Ø­Ù„</th>
                        <th>ÙˆØ¶Ø¹ÛŒØª</th>
                        <th>Ú¯Ø²Ø§Ø±Ø´</th>
                        <th>Ø¹Ù…Ù„ÛŒØ§Øª</th>
                    </tr>
                </thead>
                <tbody>
                    {% for it in items %}
                    <tr>
                        <td>{{ it[0] }}</td>
                        <td>{{ it[1] }}</td>
                        <td>{{ it[2] }}</td>
                        <td>{{ it[3] }}</td>
                        <td>{{ it[4] }}</td>
                        <td>{{ it[5] }}</td>
                        <td>{{ it[6] }}</td>
                        <td>
                            {% if it[7] %}
                                <a href="{{ it[7] }}" target="_blank">Ù…Ø´Ø§Ù‡Ø¯Ù‡</a>
                            {% else %}
                                -
                            {% endif %}
                        </td>
                        <td>
                            <a href="/edit/{{ it[0] }}"><button>ÙˆÛŒØ±Ø§ÛŒØ´</button></a>
                            <a href="/delete/{{ it[0] }}" onclick="return confirm('Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ØŸ')"><button class="danger">Ø­Ø°Ù</button></a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</body>
</html>
